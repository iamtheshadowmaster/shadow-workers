---
interface Props {
  title: string;
  subtitle: string;
  video?: string;
  backgroundColor?: string;
}

const { title, subtitle, video, backgroundColor = "bg-gradient-to-b from-black to-gray-900" } = Astro.props;
---

<section class={`${backgroundColor}`}>
  <div class="max-w-6xl mx-auto px-6">
    
    <!-- Scroll-Triggered Feature Section -->
    <div class="h-[200vh] relative" id={`featureScroll-${title.replace(/\s+/g, '-').toLowerCase()}`}>
      <!-- Sticky container that holds the content -->
      <div class="sticky top-0 h-screen flex flex-col items-center justify-start pt-20 overflow-hidden text-center">
        
        <!-- Title and subtitle - always visible and sticky -->
        <div class="mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">{title}</h2>
          <p class="text-xl text-gray-300">{subtitle}</p>
        </div>
        
        <!-- Content that appears during scroll -->
        <div class="relative w-full max-w-2xl">
          {video ? (
            <div class="bg-gray-800/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-700/50">
              <div class="bg-black/50 rounded-xl aspect-video overflow-hidden">
                <video 
                  autoplay 
                  loop 
                  muted
                  playsinline
                  class="w-full h-full object-cover rounded-xl"
                  src={video}
                >
                  Your browser does not support the video tag.
                </video>
              </div>
            </div>
          ) : (
            <div class="bg-gradient-to-br from-gray-700/20 via-gray-600/20 to-gray-800/20 rounded-3xl p-6 shadow-2xl">
              <div class="bg-black/50 backdrop-blur rounded-2xl aspect-video flex items-center justify-center">
                <div class="text-center">
                  <div class="w-16 h-16 bg-gradient-to-br from-gray-500 to-gray-700 rounded-2xl flex items-center justify-center mb-4 mx-auto">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M8 5v14l11-7z"/>
                    </svg>
                  </div>
                  <p class="text-gray-300">Coming Soon</p>
                </div>
              </div>
            </div>
          )}
        </div>
        
      </div>
    </div>
    
  </div>
</section>

