---
---

<!-- Scroll container that creates the scroll distance -->
<div id="team-section" class="relative bg-black" style="height: 250vh;">
  <!-- Fixed/sticky content -->
  <div id="team-sticky" class="sticky top-0 min-h-screen flex items-center bg-black py-16">
    <div class="max-w-7xl mx-auto px-6 w-full">
      <!-- Title -->
      <div class="text-center mb-12">
        <div class="inline-flex items-center gap-2 mb-6">
          <div class="w-2 h-2 rounded-full bg-purple-500"></div>
          <span class="text-sm font-medium text-purple-400 uppercase tracking-wider">Team Mode</span>
        </div>
        <h2 class="text-xl md:text-3xl lg:text-4xl font-medium text-white mb-6 leading-tight tracking-tight">
          Scattered effort doesn't hit targets. <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">Perfect alignment</span> does.
        </h2>
      </div>

      <div class="flex items-center gap-12">
        <!-- Left: Content -->
        <div class="flex-1 flex flex-col justify-between">
          <div id="team-step-content" class="transition-opacity duration-500">
            <!-- Step content will be dynamically shown here -->
          </div>

          <!-- Progress Indicator at bottom -->
          <div class="mt-12">
            <div class="flex items-center">
              <div class="team-step-indicator flex items-center" data-step="1">
                <div class="team-step-dot w-3 h-3 rounded-full transition-all duration-300 bg-white border-2 border-gray-600"></div>
                <div class="team-step-line h-0.5 w-12 bg-gray-800 transition-all duration-300"></div>
              </div>
              <div class="team-step-indicator flex items-center" data-step="2">
                <div class="team-step-dot w-3 h-3 rounded-full transition-all duration-300 bg-white border-2 border-gray-600"></div>
                <div class="team-step-line h-0.5 w-12 bg-gray-800 transition-all duration-300"></div>
              </div>
              <div class="team-step-indicator flex items-center" data-step="3">
                <div class="team-step-dot w-3 h-3 rounded-full transition-all duration-300 bg-white border-2 border-gray-600"></div>
                <div class="team-step-line h-0.5 w-12 bg-gray-800 transition-all duration-300"></div>
              </div>
              <div class="team-step-indicator flex items-center" data-step="4">
                <div class="team-step-dot w-3 h-3 rounded-full transition-all duration-300 bg-white border-2 border-gray-600"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right: Visual -->
        <div class="flex-1 hidden lg:block">
          <div id="team-step-image" class="rounded-2xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 aspect-[4/3] overflow-hidden border border-gray-800 transition-all duration-500">
            <!-- Visual will be shown here -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const teamSteps = [
    {
      number: 1,
      title: "The Problem",
      description: "Everyone's working hard. But scattered effort doesn't hit targets. Your team is asking: 'What should I prioritize?' 'Which deal matters?' 'Is this aligned with our goals?'",
      visual: "problem"
    },
    {
      number: 2,
      title: "The Solution",
      description: "One manager onboards. Whole team gets aligned. Shadow automatically shares your OKRs with everyoneâ€”zero configuration required.",
      visual: "solution"
    },
    {
      number: 3,
      title: "Perfect Alignment",
      description: "Everyone knows exactly what matters. Your team self-organizes around impact. No more 'What should I prioritize?' questions.",
      visual: "alignment"
    },
    {
      number: 4,
      title: "Real Results",
      description: "Sales teams hitting quota. Product squads shipping on time. Engineering velocity doubles. All because everyone's pulling in the same direction.",
      visual: "results"
    }
  ];

  let currentTeamStep = 0;

  function renderTeamStep(index: number) {
    const step = teamSteps[index];
    const contentDiv = document.getElementById('team-step-content');
    const imageDiv = document.getElementById('team-step-image');

    if (contentDiv) {
      contentDiv.innerHTML = `
        <div class="mb-4">
          <span class="text-sm font-medium text-gray-500">${step.number}/4</span>
        </div>
        <h3 class="text-3xl md:text-4xl font-bold text-white mb-6">
          ${step.title}
        </h3>
        <p class="text-xl text-gray-400 leading-relaxed max-w-xl">
          ${step.description}
        </p>
      `;
    }

    if (imageDiv) {
      // Create visual representation based on the step
      let visualContent = '';

      if (step.visual === 'problem') {
        visualContent = `
          <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-red-950/30 to-gray-950">
            <div class="text-center p-8">
              <div class="text-6xl mb-4">ðŸ˜°</div>
              <div class="space-y-2">
                <div class="text-red-400 text-sm">Ã— "What should I prioritize?"</div>
                <div class="text-red-400 text-sm">Ã— "Which deal matters?"</div>
                <div class="text-red-400 text-sm">Ã— "Is this aligned?"</div>
              </div>
            </div>
          </div>
        `;
      } else if (step.visual === 'solution') {
        visualContent = `
          <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-950/30 to-pink-950/30">
            <div class="text-center p-8">
              <div class="text-6xl mb-4">ðŸŽ¯</div>
              <div class="text-white text-lg font-bold mb-2">One Onboarding</div>
              <div class="text-purple-400 text-sm">â†’ Whole Team Aligned</div>
            </div>
          </div>
        `;
      } else if (step.visual === 'alignment') {
        visualContent = `
          <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-950/30 to-purple-950/30">
            <div class="text-center p-8">
              <div class="text-6xl mb-4">âœ¨</div>
              <div class="text-white text-lg font-bold mb-2">Perfect Alignment</div>
              <div class="text-blue-400 text-sm">Everyone knows what matters</div>
            </div>
          </div>
        `;
      } else if (step.visual === 'results') {
        visualContent = `
          <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-green-950/30 to-blue-950/30">
            <div class="text-center p-8">
              <div class="text-6xl mb-4">ðŸš€</div>
              <div class="space-y-2">
                <div class="text-green-400 text-sm">âœ“ Hitting quota</div>
                <div class="text-green-400 text-sm">âœ“ Shipping on time</div>
                <div class="text-green-400 text-sm">âœ“ Velocity doubles</div>
              </div>
            </div>
          </div>
        `;
      }

      imageDiv.innerHTML = visualContent;
    }

    // Update progress indicators
    document.querySelectorAll('.team-step-indicator').forEach((indicator, i) => {
      const stepDot = indicator.querySelector('.team-step-dot');
      const stepLine = indicator.querySelector('.team-step-line');

      if (i < index) {
        // Completed steps
        stepDot?.classList.remove('bg-white', 'border-gray-600');
        stepDot?.classList.add('bg-black', 'border-purple-500');
        stepLine?.classList.remove('bg-gray-800');
        stepLine?.classList.add('bg-purple-500');
      } else if (i === index) {
        // Current step
        stepDot?.classList.remove('bg-white', 'border-gray-600');
        stepDot?.classList.add('bg-black', 'border-purple-500');
        stepLine?.classList.remove('bg-purple-500');
        stepLine?.classList.add('bg-gray-800');
      } else {
        // Future steps
        stepDot?.classList.remove('bg-black', 'border-purple-500');
        stepDot?.classList.add('bg-white', 'border-gray-600');
        stepLine?.classList.remove('bg-purple-500');
        stepLine?.classList.add('bg-gray-800');
      }
    });
  }

  function updateTeamStepBasedOnScroll() {
    const section = document.getElementById('team-section') as HTMLElement;
    if (!section) return;

    const rect = section.getBoundingClientRect();
    const sectionHeight = section.offsetHeight;
    const viewportHeight = window.innerHeight;

    // Calculate scroll progress through the section (0 to 1)
    const scrollProgress = Math.max(0, Math.min(1, -rect.top / (sectionHeight - viewportHeight)));

    // Determine which step to show (0-3)
    const newStep = Math.min(3, Math.floor(scrollProgress * 4));

    // Update step
    if (newStep !== currentTeamStep) {
      currentTeamStep = newStep;
      renderTeamStep(currentTeamStep);
    }
  }

  // Initialize
  renderTeamStep(0);

  // Update on scroll
  window.addEventListener('scroll', updateTeamStepBasedOnScroll);
  // Initial update
  updateTeamStepBasedOnScroll();
</script>
